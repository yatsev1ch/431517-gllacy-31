const openBtn=document.querySelector(".location-feedback-button"),feedbackPopup=document.querySelector(".feedback-popup"),closeBtn=feedbackPopup.querySelector(".feedback-close-button"),feedbackForm=feedbackPopup.querySelector(".feedback-popup-form"),nameField=feedbackForm.querySelector(".feedback-popup-name-input"),emailField=feedbackForm.querySelector(".feedback-popup-email-input"),setFeedbackFormFocus=function(){nameField.value?emailField.value||emailField.focus():nameField.focus()};openBtn.addEventListener("click",e=>{e.preventDefault(),feedbackPopup.classList.add("popup-showed"),setFeedbackFormFocus()}),feedbackForm.addEventListener("submit",e=>{nameField.value&&emailField.value||(e.preventDefault(),feedbackPopup.classList.remove("popup-error"),window.requestAnimationFrame(()=>{feedbackPopup.classList.add("popup-error")}),setFeedbackFormFocus())}),closeBtn.addEventListener("click",()=>{feedbackPopup.classList.remove("popup-showed"),feedbackPopup.classList.remove("popup-error")}),document.addEventListener("keydown",e=>{"esc"!==e.key&&"Escape"!==e.key||(feedbackPopup.classList.remove("popup-showed"),feedbackPopup.classList.remove("popup-error"))});