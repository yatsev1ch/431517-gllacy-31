const products=document.querySelectorAll(".product-item");Array.prototype.forEach.call(products,e=>{let o=e.querySelector("h3 a"),c=e.querySelector(".product-item-button");e.addEventListener("mouseup",t=>{t.target===c?c.click():(o.click(),t.target.blur(),e.blur())})});const feedbackPopup=document.querySelector(".feedback-popup"),openBtn=document.querySelector(".location-feedback-button"),closeBtn=feedbackPopup.querySelector(".feedback-close-button"),feedbackForm=feedbackPopup.querySelector(".feedback-popup-form"),nameField=feedbackForm.querySelector(".feedback-popup-name-input"),emailField=feedbackForm.querySelector(".feedback-popup-email-input"),setFeedbackFormFocus=function(){nameField.value?emailField.value||emailField.focus():nameField.focus()};openBtn.addEventListener("click",e=>{e.preventDefault(),feedbackPopup.classList.add("popup-showed"),setFeedbackFormFocus()}),feedbackForm.addEventListener("submit",e=>{nameField.value&&emailField.value||(e.preventDefault(),feedbackPopup.classList.remove("popup-error"),window.requestAnimationFrame(()=>{feedbackPopup.classList.add("popup-error")}),setFeedbackFormFocus())}),closeBtn.addEventListener("click",()=>{feedbackPopup.classList.remove("popup-showed"),feedbackPopup.classList.remove("popup-error")}),document.addEventListener("keydown",e=>{"esc"!==e.key&&"Escape"!==e.key||(feedbackPopup.classList.remove("popup-showed"),feedbackPopup.classList.remove("popup-error"))});